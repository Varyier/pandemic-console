<script>
  // all storable data
  var State = {
    Towns : 
    [
    // Blue - 'B'
      {name:'Atlanta',        color:'B', ways:[1,2,3], disB:0,disK:0,disR:0, lab:true}, // 0
      {name:'Chicago',        color:'B', ways:[0,3,5], disB:0,disK:0,disR:0, lab:false}, // 1
      {name:'London',         color:'B', ways:[0,8,9], disB:0,disK:0,disR:0, lab:false}, // 2
      {name:'St. Petersburg', color:'B', ways:[0,1], disB:0,disK:0,disR:0, lab:false}, // 3

      // Black - 'K'
      {name:'Algeria',  color:'K', ways:[5,6,8], disB:0,disK:0,disR:0, lab:false}, // 4
      {name:'Moscow',   color:'K', ways:[1,4,8], disB:0,disK:0,disR:0, lab:false}, // 5
      {name:'Istambul', color:'K', ways:[4,7], disB:0,disK:0,disR:0, lab:false}, // 6
      {name:'Chennai',  color:'K', ways:[6,9,11], disB:0,disK:0,disR:0, lab:false}, // 7

      // Red - 'R'
      {name:'Seoul',   color:'R', ways:[2,4,5,9], disB:0,disK:0,disR:0, lab:false}, // 8
      {name:'Osaka',   color:'R', ways:[2,7,8,11], disB:0,disK:0,disR:0, lab:false}, // 9
      {name:'Sydney',  color:'R', ways:[11], disB:0,disK:0,disR:0, lab:false}, // 10
      {name:'Jakarta', color:'R', ways:[7,9,10], disB:0,disK:0,disR:0, lab:false} // 11
    ],
    
    Classes :
    [
      {name:'Researcher'},
      {name:'Medic'},
      {name:'Engeneer'}
    ],
    
    // define two players
    Players :
    [
      {name:'Player1', class:0, hand:[], acts:3, pos:0},
      {name:'Player2', class:1, hand:[], acts:3, pos:0}
    ],
    
    infect_deck : [0,1,2,3,4,5,6,7,8,9,10,11],
    infect_drop : [],
    
    // -1 - teleport
    // -2 - free lab
    // -3 - silent night
    // -13 - !INFECT
    help_deck : [0,1,2,3,4,5,6,7,8,9,10,11,-1,-2,-3,-13,-13,-13],
    help_drop : [],
    
    is_silent_night:false,
    dis_marker:2, // number of cards from infect deck, to use
    propagation_counter:0, // 4 - lose
    cur_turn:0,
    remedyB:false,
    remedyK:false,
    remedyR:false
  };
  alert(State.Towns[11].ways);

  function mymain() {
    i_val = document.getElementById('mainInput').value;
    if(i_val.length > 0) {
      o_val = document.getElementById('allOutput').value;
      document.getElementById('allOutput').innerHTML = o_val + '\n' + '>> ' + i_val;
      document.getElementById('mainInput').value = '';
      // Debug
      document.getElementById('allOutput').innerHTML = document.getElementById('ST').value;
    }
    // Debug
    document.getElementById('ST').innerHTML = JSON.stringify(State);;
  }
</script>
<div class="row">
    <textarea class="form-control" rows="40" id="allOutput" readonly style="padding-left: -60px;padding-right: -60px;width: 100%;min-width: 100%;max-width: 100%; height: 400px;min-height: 400px;max-height: 400px;"></textarea>
</div>
<div class="row" onkeydown="if(event.keyCode==13) { mymain(); }">
    <div class="input-append">
        <input class="span2" id="mainInput" type="text" style="padding-left: -60px;padding-right: -60px;width: 90%;min-width: 90%;max-width: 90%;">
        <button class="btn" type="button" onclick="mymain()">Sumbit</button>
        <p id="demo"></p>
    </div>
</div>
<div class="row" hidden>
    <textarea class="form-control" rows="2" id="ST" readonly style="padding-left: -60px;padding-right: -60px;width: 100%;min-width: 100%;max-width: 100%; height: 400px;min-height: 400px;max-height: 400px;"></textarea>
</div>